{"ast":null,"code":"import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nconst GET_IMAGE = 'GET_IMAGE';\nconst REQUEST_IMAGE = 'REQUEST_IMAGE';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\n\nfunction getImage(json) {\n  return {\n    type: GET_IMAGE,\n    payload: json.message\n  };\n}\n\nfunction requestDog() {\n  return {\n    type: REQUEST_IMAGE\n  };\n}\n\nfunction failedRequest(error) {\n  return {\n    type: FAILED_REQUEST,\n    payload: error\n  };\n}\n\nexport function fetchDog() {\n  return dispatch => {\n    dispatch(requestDog());\n    return fetch('https://dog.ceo/api/breeds/image/random').then(response => response.json()).then(json => dispatch(getImage(json))).catch(error => dispatch(failedRequest(error)));\n  };\n}\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\nexport default store;","map":{"version":3,"sources":["/home/thiago/Trybe/trybe-exercicios/frontend/bloco-15-gerenciamento-de-estado/dia-04-actions-assincronas/doguinhos-app/src/store/index.js"],"names":["createStore","applyMiddleware","thunk","composeWithDevTools","GET_IMAGE","REQUEST_IMAGE","FAILED_REQUEST","getImage","json","type","payload","message","requestDog","failedRequest","error","fetchDog","dispatch","fetch","then","response","catch","store","reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,mBAAT,QAAoC,0BAApC;AAEA,MAAMC,SAAS,GAAG,WAAlB;AACA,MAAMC,aAAa,GAAG,eAAtB;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,SAAO;AAAEC,IAAAA,IAAI,EAAEL,SAAR;AAAmBM,IAAAA,OAAO,EAAEF,IAAI,CAACG;AAAjC,GAAP;AACD;;AAED,SAASC,UAAT,GAAsB;AACpB,SAAO;AAAEH,IAAAA,IAAI,EAAEJ;AAAR,GAAP;AACD;;AAED,SAASQ,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,SAAO;AAAEL,IAAAA,IAAI,EAAEH,cAAR;AAAwBI,IAAAA,OAAO,EAAEI;AAAjC,GAAP;AACD;;AAED,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AACA,WAAOK,KAAK,CAAC,yCAAD,CAAL,CACJC,IADI,CACCC,QAAQ,IAAIA,QAAQ,CAACX,IAAT,EADb,EAEJU,IAFI,CAECV,IAAI,IAAIQ,QAAQ,CAACT,QAAQ,CAACC,IAAD,CAAT,CAFjB,EAGJY,KAHI,CAGEN,KAAK,IAAIE,QAAQ,CAACH,aAAa,CAACC,KAAD,CAAd,CAHnB,CAAP;AAID,GAND;AAOD;AAID,MAAMO,KAAK,GAAGrB,WAAW,CAACsB,OAAD,EAAUnB,mBAAmB,CAACF,eAAe,CAACC,KAAD,CAAhB,CAA7B,CAAzB;AAEA,eAAemB,KAAf","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst GET_IMAGE = 'GET_IMAGE';\nconst REQUEST_IMAGE = 'REQUEST_IMAGE';\nconst FAILED_REQUEST = 'FAILED_REQUEST';\n\nfunction getImage(json) {\n  return { type: GET_IMAGE, payload: json.message };\n}\n\nfunction requestDog() {\n  return { type: REQUEST_IMAGE };\n}\n\nfunction failedRequest(error) {\n  return { type: FAILED_REQUEST, payload: error };\n}\n\nexport function fetchDog() {\n  return (dispatch) => {\n    dispatch(requestDog());\n    return fetch('https://dog.ceo/api/breeds/image/random')\n      .then(response => response.json())\n      .then(json => dispatch(getImage(json)))\n      .catch(error => dispatch(failedRequest(error)))\n  };\n}\n\n\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;"]},"metadata":{},"sourceType":"module"}